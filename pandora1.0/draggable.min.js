(function(b){var c=(b.isAndroid()?"touchstart":"mousedown"),a=(b.isAndroid()?"touchmove":"mousemove"),d=(b.isAndroid()?"touchend":"mouseup");b.fn.draggable=function(k){k=k||{};var p=this[0];if(!p){return}var l=p.querySelectorAll(".handler"),o=false,n={startX:0,startY:0,endX:0,endY:0,},e=function(h){o=true;var i=b.isAndroid()?h.changedTouches[0]:h;n.startX=i.pageX;n.startY=i.pageY;if(p.style.top){n.endY=parseInt(p.style.top)}if(p.style.left){n.endX=parseInt(p.style.left)}if(b.isFunction(k.start)){k.start(h,n)}},m=function(i){i.preventDefault();if(!o){return}var r=b.isAndroid()?i.targetTouches[0]:i;var h=r.pageX-n.startX+n.endX,q=r.pageY-n.startY+n.endY;if(k.direct=="y"){h=n.endX}if(k.direct=="x"){q=n.endY}p.style.top=q+"px";p.style.left=h+"px";if(b.isFunction(k.drag)){k.drag(i,n)}},f=function(h){o=false;if(k.resume==true){p.style.top=n.endY+"px";p.style.left=n.endX+"px"}else{if(p.style.top){n.endY=parseInt(p.style.top)}if(p.style.left){n.endX=parseInt(p.style.left)}}if(b.isFunction(k.end)){k.end(h,n)}};if(!l||l.length==0){l=p}if(b.isArray(l)){for(var j=0;j<l.length;j++){var g=l[j];g.addEventListener(c,e,false);g.addEventListener(a,m,false);g.addEventListener(d,f,false)}}else{l.addEventListener(c,e,false);l.addEventListener(a,m,false);l.addEventListener(d,f,false)}}})($);